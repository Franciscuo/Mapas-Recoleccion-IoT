<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.css" rel="stylesheet">

<!-- Page Content -->
<div class="bc-verde">
    <div class="container pb-4">

        <div class="pt-5"></div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/">Inicio</a>
            </li>
            <li class="breadcrumb-item">
                <a href="/investigacion/proyectos">Proyectos</a>
            </li>
            <li class="breadcrumb-item active">{{project.title}}</li>
        </ol>



        <!-- Post Content Column -->


        {{> errors }}
        {{#if user.admin}}
        <button class="btn btn-danger btn-sm" id="btn-delete-project-inside" data-id="{{_id}}">
            <i class="fa fa-times"></i>Borrar</button>
        <button class="btn btn-primary btn-sm ml-3" id="btn-edit-project">
            <i class="fa fa-edit"></i>Editar</button>
        {{/if}}
        <h2 id="dataBase-project-title" class="text-center mt-5 mb-4">{{project.title}}</h2>
        <!-- Post Content -->

        <div class="lead" id="dataBase-project">{{{project.content}}}</div>

        <a href="/investigacion/proyectos" id="btn-back" class="btn btn-success my-4"><i class="fa fa-long-arrow-left mr-3"></i> Regresar</a>
        {{#if user.admin}}
        <div id="edit-project" class="mt-5">
            <div class="form-group">
                <label for="title">Titulo: </label>
                <input type="text" name="title" id="title" class="form-control" placeholder="Titulo" autocomplete="off">
            </div>
            <div class="form-group">
                <label for="description">Descripción: </label>
                <textarea name="description" id="description" rows="2"  maxlength="105" class="form-control" style="resize: none;">{{project.description}}</textarea>
            </div>
            <div class="form-group">
                <label for="editor"> Contenido del hilo: </label>
                <!-- Create the toolbar container -->

                <div id="toolbar"></div>
                <!-- Create the editor container -->
                <div id="editor"></div>
                <a href="#" id="btn-update-project" class="btn btn-primary mt-3" data-id="{{project._id}}">Actualizar proyecto</a>

            </div>
        </div>
        {{/if}}

    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="deleteModalProject-inside" data-backdrop="static" tabindex="-1" role="dialog"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Eliminar</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         ¿Seguro que quieres eliminar este proyecto?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" id="btnModalDeleteProject-inside" class="btn btn-danger" data-id="{{project._id}}" >Aceptar</button>
      </div>
    </div>
  </div>
</div>

<script>

    var toolbarOptions = [
        ['bold', 'italic', 'underline', 'strike'],
        ['blockquote', 'code-block'],
        [{ 'color': [] }, { 'background': [] }],
        [{ 'font': [] }],
        [{ 'align': [] }],
        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],
        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
        [{ 'script': 'sub' }, { 'script': 'super' }],
        [{ 'indent': '-1' }, { 'indent': '+1' }],
        //[{ 'direction': 'rt1' }],
        [{ 'size': ['small', false, 'large', 'huge'] }],
        ['link', 'image', 'video', 'formula']

    ];

    var quill = new Quill('#editor', {
        modules: {
            toolbar: toolbarOptions
        },
        placeholder: 'Mi hilo',
        theme: 'snow'
    });
</script>